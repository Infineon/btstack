<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluetooth Host Stack Library: Bluetooth Stack Initialization &amp; Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluetooth Host Stack Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__wiced__bt__init__functions.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bluetooth Stack Initialization &amp; Configuration</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>This section describes API and Data structures required to initialize and configure the BTSTACK and various submodules. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabdaddf0ee44203cafd1d65953768eef1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wiced__bt__init__functions.html#gabdaddf0ee44203cafd1d65953768eef1">wiced_bt_stack_get_dynamic_memory_size_for_config</a> (const <a class="el" href="structwiced__bt__cfg__settings__t.html">wiced_bt_cfg_settings_t</a> *p_bt_cfg_settings)</td></tr>
<tr class="memdesc:gabdaddf0ee44203cafd1d65953768eef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the expected dynamic memory size required for the stack based on the <b>p_bt_cfg_settings</b>.  <a href="#gabdaddf0ee44203cafd1d65953768eef1">More...</a><br /></td></tr>
<tr class="separator:gabdaddf0ee44203cafd1d65953768eef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabac5a1c3126b145f079c6797790844af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wiced__bt__init__functions.html#gabac5a1c3126b145f079c6797790844af">wiced_bt_stack_init</a> (<a class="el" href="wiced__bt__dev_8h.html#a86af8a8bb467047c9af6007f15b0d344">wiced_bt_management_cback_t</a> *p_bt_management_cback, const <a class="el" href="structwiced__bt__cfg__settings__t.html">wiced_bt_cfg_settings_t</a> *p_bt_cfg_settings)</td></tr>
<tr class="memdesc:gabac5a1c3126b145f079c6797790844af"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API initializes the stack based on the configuration in <b>p_bt_cfg_settings</b> and allocates memory as per the configuration.  <a href="#gabac5a1c3126b145f079c6797790844af">More...</a><br /></td></tr>
<tr class="separator:gabac5a1c3126b145f079c6797790844af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7ee2ece60f1e4d174e85167c85377c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wiced__bt__init__functions.html#gaa7ee2ece60f1e4d174e85167c85377c7">wiced_bt_stack_deinit</a> (void)</td></tr>
<tr class="memdesc:gaa7ee2ece60f1e4d174e85167c85377c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a blocking call (returns after all de-initialization procedures are complete) It is recommended that the application disconnect any outstanding connections prior to invoking this function.  <a href="#gaa7ee2ece60f1e4d174e85167c85377c7">More...</a><br /></td></tr>
<tr class="separator:gaa7ee2ece60f1e4d174e85167c85377c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12ca3e0453fe327c489bd39c520fd452"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wiced__bt__init__functions.html#ga12ca3e0453fe327c489bd39c520fd452">wiced_bt_smp_module_init</a> (void)</td></tr>
<tr class="memdesc:ga12ca3e0453fe327c489bd39c520fd452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SMP(Security Manager).  <a href="#ga12ca3e0453fe327c489bd39c520fd452">More...</a><br /></td></tr>
<tr class="separator:ga12ca3e0453fe327c489bd39c520fd452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26ebacfb0c02e43d4d1b97bbfc22738f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wiced__bt__init__functions.html#ga26ebacfb0c02e43d4d1b97bbfc22738f">wiced_bt_init_resolution</a> (void)</td></tr>
<tr class="memdesc:ga26ebacfb0c02e43d4d1b97bbfc22738f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API enables the Host based address resolution.  <a href="#ga26ebacfb0c02e43d4d1b97bbfc22738f">More...</a><br /></td></tr>
<tr class="separator:ga26ebacfb0c02e43d4d1b97bbfc22738f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga26ebacfb0c02e43d4d1b97bbfc22738f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26ebacfb0c02e43d4d1b97bbfc22738f">&#9670;&nbsp;</a></span>wiced_bt_init_resolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a> wiced_bt_init_resolution </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API enables the Host based address resolution. </p>
<p>If Host based resolution is enabled then advertisment packet with Resolvable private address is resolved by host. </p><dl class="section note"><dt>Note</dt><dd>This should be invoked in the <a class="el" href="wiced__bt__dev_8h.html#a4a427fc37161f2041016d7936399be65a3813bd46284b627ca165c8637500bd52" title="Event notifies Bluetooth controller and host stack is enabled.">BTM_ENABLED_EVT</a> event.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310" title="AIROC result.">wiced_result_t</a> <br />
 <b> WICED_BT_SUCCESS </b>: If successful <br />
 <b> WICED_NO_MEMORY </b>: If no memory/buffers available to create the Resolving list </dd></dl>

</div>
</div>
<a id="ga12ca3e0453fe327c489bd39c520fd452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12ca3e0453fe327c489bd39c520fd452">&#9670;&nbsp;</a></span>wiced_bt_smp_module_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a> wiced_bt_smp_module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize SMP(Security Manager). </p>
<p>This API enables the Security Manager module in the stack to accept incoming pairing requests </p><dl class="section note"><dt>Note</dt><dd>calling any SMP API in the application without calling <a class="el" href="group__wiced__bt__init__functions.html#ga12ca3e0453fe327c489bd39c520fd452" title="Initialize SMP(Security Manager).">wiced_bt_smp_module_init</a> will result in error or undefined behavior.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310" title="AIROC result.">wiced_result_t</a> <br />
 <b> WICED_BT_SUCCESS </b>: If successful <br />
 <b> WICED_BT_ERROR </b>: If an error occurred </dd></dl>

</div>
</div>
<a id="gaa7ee2ece60f1e4d174e85167c85377c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7ee2ece60f1e4d174e85167c85377c7">&#9670;&nbsp;</a></span>wiced_bt_stack_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a> wiced_bt_stack_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a blocking call (returns after all de-initialization procedures are complete) It is recommended that the application disconnect any outstanding connections prior to invoking this function. </p>
<dl class="section return"><dt>Returns</dt><dd><b> WICED_BT_SUCCESS </b> : On success; <br />
 <b> WICED_BT_ERROR </b> : If an error occurred </dd></dl>

</div>
</div>
<a id="gabdaddf0ee44203cafd1d65953768eef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdaddf0ee44203cafd1d65953768eef1">&#9670;&nbsp;</a></span>wiced_bt_stack_get_dynamic_memory_size_for_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t wiced_bt_stack_get_dynamic_memory_size_for_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structwiced__bt__cfg__settings__t.html">wiced_bt_cfg_settings_t</a> *&#160;</td>
          <td class="paramname"><em>p_bt_cfg_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the expected dynamic memory size required for the stack based on the <b>p_bt_cfg_settings</b>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_bt_cfg_settings</td><td>: Bluetooth stack configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dynamic memory size requirements of the stack </dd></dl>

</div>
</div>
<a id="gabac5a1c3126b145f079c6797790844af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabac5a1c3126b145f079c6797790844af">&#9670;&nbsp;</a></span>wiced_bt_stack_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result.html#gacfc32ead8a827d53416f01b19eb58310">wiced_result_t</a> wiced_bt_stack_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="wiced__bt__dev_8h.html#a86af8a8bb467047c9af6007f15b0d344">wiced_bt_management_cback_t</a> *&#160;</td>
          <td class="paramname"><em>p_bt_management_cback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structwiced__bt__cfg__settings__t.html">wiced_bt_cfg_settings_t</a> *&#160;</td>
          <td class="paramname"><em>p_bt_cfg_settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API initializes the stack based on the configuration in <b>p_bt_cfg_settings</b> and allocates memory as per the configuration. </p>
<p>It also initializes platform interfaces and the controller. It registers the application callback for notification of Bluetooth events issues by the stack. Upon successfully Initialization of Bluetooth controller and stack, application receives <a class="el" href="wiced__bt__dev_8h.html#a4a427fc37161f2041016d7936399be65a3813bd46284b627ca165c8637500bd52" title="Event notifies Bluetooth controller and host stack is enabled.">BTM_ENABLED_EVT</a> with the event data in <a class="el" href="structwiced__bt__dev__enabled__t.html" title="Device enabled (used by BTM_ENABLED_EVT)">wiced_bt_dev_enabled_t</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Controller FW (patch) download is the part of <a class="el" href="group__wiced__bt__init__functions.html#gabac5a1c3126b145f079c6797790844af" title="This API initializes the stack based on the configuration in p_bt_cfg_settings and allocates memory a...">wiced_bt_stack_init</a> , if <a class="el" href="structwiced__bt__stack__platform__t.html#ab424e8d1a539328e651f7ef3ec25f53f">wiced_bt_stack_platform_t::pf_patch_download</a> fails, application may not receive <a class="el" href="wiced__bt__dev_8h.html#a4a427fc37161f2041016d7936399be65a3813bd46284b627ca165c8637500bd52" title="Event notifies Bluetooth controller and host stack is enabled.">BTM_ENABLED_EVT</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_bt_management_cback</td><td>: Callback for receiving Bluetooth management events(<a class="el" href="wiced__bt__dev_8h.html#a4a427fc37161f2041016d7936399be65" title="Bluetooth Management events used in wiced_bt_management_cback_t.">wiced_bt_management_evt_e</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_bt_cfg_settings</td><td>: Bluetooth stack configuration <a class="el" href="structwiced__bt__cfg__settings__t.html" title="Bluetooth stack configuration.">wiced_bt_cfg_settings_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><b> WICED_BT_SUCCESS </b> : On success <br />
 <b> WICED_ERROR </b> : If an error occurred </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This API must be implemented by platform porting layer. <br />
This API must be called before using any Bluetooth functionality. <br />
If <b>p_bt_cfg_settings</b> is null, stack uses default parameters defined in <b> <a class="el" href="wiced__bt__cfg_8h.html" title="Runtime Bluetooth configuration parameters.">wiced_bt_cfg.h</a> </b> <br />
 However, it is strongly recommended that applications define the configuration to appropriate values based on the application use case. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Bluetooth Host Stack Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
</body>
</html>
